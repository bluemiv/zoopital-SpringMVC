<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <mapper namespace="com.pet.model.PetDAO">
    <insert id="insert_pet" parameterType="com.pet.model.PetDTO">
	    INSERT INTO PET
	    VALUES( PET_SEQ.NEXTVAL, #{pet_name}, #{pet_type}, #{pet_sex}, #{pet_age}, #{pet_phone}, #{store_code} )
    </insert>
    
    <select id="list_pet" resultType="com.pet.model.PetDTO">
    	select * from pet
    </select>
    
    <select id="select_code" resultType="com.pet.model.PetDTO">
    	select * from pet where pet_code=#{pet_code}
    </select>	
    
    
    <select id="searchList" resultType="com.pet.model.PetDTO" parameterType="com.pet.model.PetDTO">
    select * from pet where pet_name like '%${pet_name}%'
    </select>
    
    
    <update id="update_pet" parameterType="com.pet.model.PetDTO" >
    update pet 
    set pet_name=#{pet_name}, pet_type=#{pet_type}, pet_sex=#{pet_sex}, pet_age=#{pet_age}, pet_phone=#{pet_phone}, store_code=#{store_code} 
    where pet_code=#{pet_code} 
    </update>
    
    <delete id="delete_pet" parameterType="com.pet.model.PetDTO">
    	delete from pet where pet_code=#{pet_code}
    </delete>
    
    <select parameterType="com.pet.model.PetDTO" resultType="com.pet.model.PetDTO" id="getCodeForHistory">
    	select * from pet where pet_name like '%${pet_name}%'
    </select>

	<select resultType="com.pet.model.PetDTO" id="getHistoryInfo">
		select * from pet where pet_code = #{code}
	</select>
    
    
    </mapper>